!function(e){function t(){e[n].glbl||(l={$wndw:e(window),$html:e("html"),$body:e("body")},s={},a={},i={},e.each([s,a,i],function(e,t){t.add=function(e){e=e.split(" ");for(var n=0,s=e.length;n<s;n++)t[e[n]]=t.mm(e[n])}}),s.mm=function(e){return"mm-"+e},s.add("wrapper menu vertical panel nopanel current highest opened subopened navbar hasnavbar title btn prev next first last listview nolistview selected divider spacer hidden fullsubopen"),s.umm=function(e){return"mm-"==e.slice(0,3)&&(e=e.slice(3)),e},a.mm=function(e){return"mm-"+e},a.add("parent sub"),i.mm=function(e){return e+".mm"},i.add("transitionend webkitTransitionEnd mousedown mouseup touchstart touchmove touchend click keydown"),e[n]._c=s,e[n]._d=a,e[n]._e=i,e[n].glbl=l)}var n="mmenu";if(!e[n]){e[n]=function(e,t,n){this.$menu=e,this._api=["bind","init","update","setSelected","getInstance","openPanel","closePanel","closeAllPanels"],this.opts=t,this.conf=n,this.vars={},this.cbck={},"function"==typeof this.___deprecated&&this.___deprecated(),this._initMenu(),this._initAnchors();var s=this.$menu.children(this.conf.panelNodetype);return this._initAddons(),this.init(s),"function"==typeof this.___debug&&this.___debug(),this},e[n].version="5.2.0",e[n].addons={},e[n].uniqueId=0,e[n].defaults={extensions:[],navbar:{title:"Menu",titleLink:"panel"},onClick:{setSelected:!0},slidingSubmenus:!0},e[n].configuration={classNames:{panel:"Panel",vertical:"Vertical",selected:"Selected",divider:"Divider",spacer:"Spacer"},clone:!1,openingInterval:25,panelNodetype:"ul, ol, div",transitionDuration:400},e[n].prototype={init:function(e){e=e.not("."+s.nopanel),e=this._initPanels(e),this.trigger("init",e),this.trigger("update")},update:function(){this.trigger("update")},setSelected:function(e){this.$menu.find("."+s.listview).children().removeClass(s.selected),e.addClass(s.selected),this.trigger("setSelected",e)},openPanel:function(t){var n=t.parent();if(n.hasClass(s.vertical)){var a=n.parents("."+s.subopened);if(a.length)return this.openPanel(a.first());n.addClass(s.opened)}else{if(t.hasClass(s.current))return;var i=e(this.$menu).children("."+s.panel),l=i.filter("."+s.current);i.removeClass(s.highest).removeClass(s.current).not(t).not(l).not("."+s.vertical).addClass(s.hidden),t.hasClass(s.opened)?l.addClass(s.highest).removeClass(s.opened).removeClass(s.subopened):(t.addClass(s.highest),l.addClass(s.subopened)),t.removeClass(s.hidden).addClass(s.current),setTimeout(function(){t.removeClass(s.subopened).addClass(s.opened)},this.conf.openingInterval)}this.trigger("openPanel",t)},closePanel:function(e){var t=e.parent();t.hasClass(s.vertical)&&(t.removeClass(s.opened),this.trigger("closePanel",e))},closeAllPanels:function(){this.$menu.find("."+s.listview).children().removeClass(s.selected).filter("."+s.vertical).removeClass(s.opened);var e=this.$menu.children("."+s.panel),t=e.first();this.$menu.children("."+s.panel).not(t).removeClass(s.subopened).removeClass(s.opened).removeClass(s.current).removeClass(s.highest).addClass(s.hidden),this.openPanel(t)},togglePanel:function(e){var t=e.parent();t.hasClass(s.vertical)&&this[t.hasClass(s.opened)?"closePanel":"openPanel"](e)},getInstance:function(){return this},bind:function(e,t){this.cbck[e]=this.cbck[e]||[],this.cbck[e].push(t)},trigger:function(){var e=this,t=Array.prototype.slice.call(arguments),n=t.shift();if(this.cbck[n])for(var s=0,a=this.cbck[n].length;s<a;s++)this.cbck[n][s].apply(e,t)},_initMenu:function(){this.opts.offCanvas&&this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("[id]")).filter("[id]").each(function(){e(this).attr("id",s.mm(e(this).attr("id")))})),this.$menu.contents().each(function(){3==e(this)[0].nodeType&&e(this).remove()}),this.$menu.parent().addClass(s.wrapper);var t=[s.menu];this.opts.slidingSubmenus||t.push(s.vertical),this.opts.extensions=this.opts.extensions.length?"mm-"+this.opts.extensions.join(" mm-"):"",this.opts.extensions&&t.push(this.opts.extensions),this.$menu.addClass(t.join(" "))},_initPanels:function(t){var n=this;this.__findAddBack(t,"ul, ol").not("."+s.nolistview).addClass(s.listview);var i=this.__findAddBack(t,"."+s.listview).children();this.__refactorClass(i,this.conf.classNames.selected,"selected"),this.__refactorClass(i,this.conf.classNames.divider,"divider"),this.__refactorClass(i,this.conf.classNames.spacer,"spacer"),this.__refactorClass(this.__findAddBack(t,"."+this.conf.classNames.panel),this.conf.classNames.panel,"panel");var l=e(),r=t.add(t.find("."+s.panel)).add(this.__findAddBack(t,"."+s.listview).children().children(this.conf.panelNodetype)).not("."+s.nopanel);this.__refactorClass(r,this.conf.classNames.vertical,"vertical"),this.opts.slidingSubmenus||r.addClass(s.vertical),r.each(function(){var t=e(this),a=t;t.is("ul, ol")?(t.wrap('<div class="'+s.panel+'" />'),a=t.parent()):a.addClass(s.panel);var i=t.attr("id");t.removeAttr("id"),a.attr("id",i||n.__getUniqueId()),t.hasClass(s.vertical)&&(t.removeClass(n.conf.classNames.vertical),a.add(a.parent()).addClass(s.vertical)),l=l.add(a);var r=a.children().first(),d=a.children().last();r.is("."+s.listview)&&r.addClass(s.first),d.is("."+s.listview)&&d.addClass(s.last)});var d=e("."+s.panel,this.$menu);l.each(function(t){var i=e(this),l=i.parent(),r=l.children("a, span").first();if(l.is("."+s.menu)||(l.data(a.sub,i),i.data(a.parent,l)),!l.children("."+s.next).length&&l.parent().is("."+s.listview)){var d=i.attr("id"),o=e('<a class="'+s.next+'" href="#'+d+'" data-target="#'+d+'" />').insertBefore(r);r.is("span")&&o.addClass(s.fullsubopen)}if(!i.children("."+s.navbar).length&&!l.hasClass(s.vertical)){if(l.parent().is("."+s.listview))var l=l.closest("."+s.panel);else var r=l.closest("."+s.panel).find('a[href="#'+i.attr("id")+'"]').first(),l=r.closest("."+s.panel);var c=e('<div class="'+s.navbar+'" />');if(l.length){var d=l.attr("id");switch(n.opts.navbar.titleLink){case"anchor":_url=r.attr("href");break;case"panel":case"parent":_url="#"+d;break;case"none":default:_url=!1}c.append('<a class="'+s.btn+" "+s.prev+'" href="#'+d+'" data-target="#'+d+'"></a>').append('<a class="'+s.title+'"'+(_url?' href="'+_url+'"':"")+">"+r.text()+"</a>").prependTo(i),i.addClass(s.hasnavbar)}else n.opts.navbar.title&&(c.append('<a class="'+s.title+'">'+n.opts.navbar.title+"</a>").prependTo(i),i.addClass(s.hasnavbar))}});var o=this.__findAddBack(t,"."+s.listview).children("."+s.selected).removeClass(s.selected).last().addClass(s.selected);o.add(o.parentsUntil("."+s.menu,"li")).filter("."+s.vertical).addClass(s.opened).end().not("."+s.vertical).each(function(){e(this).parentsUntil("."+s.menu,"."+s.panel).not("."+s.vertical).first().addClass(s.opened).parentsUntil("."+s.menu,"."+s.panel).not("."+s.vertical).first().addClass(s.opened).addClass(s.subopened)}),o.children("."+s.panel).not("."+s.vertical).addClass(s.opened).parentsUntil("."+s.menu,"."+s.panel).not("."+s.vertical).first().addClass(s.opened).addClass(s.subopened);var c=d.filter("."+s.opened);return c.length||(c=l.first()),c.addClass(s.opened).last().addClass(s.current),l.not("."+s.vertical).not(c.last()).addClass(s.hidden).end().appendTo(this.$menu),l},_initAnchors:function(){var t=this;l.$body.on(i.click+"-oncanvas","a[href]",function(a){var i=e(this),r=!1,d=t.$menu.find(i).length;for(var o in e[n].addons)if(r=e[n].addons[o].clickAnchor.call(t,i,d))break;if(!r&&d){var c=i.attr("href");if(c.length>1&&"#"==c.slice(0,1)){var h=e(c,t.$menu);h.is("."+s.panel)&&(r=!0,t[i.parent().hasClass(s.vertical)?"togglePanel":"openPanel"](h))}}if(r&&a.preventDefault(),!r&&d&&i.is("."+s.listview+" > li > a")&&!i.is('[rel="external"]')&&!i.is('[target="_blank"]')){t.__valueOrFn(t.opts.onClick.setSelected,i)&&t.setSelected(e(a.target).parent());var u=t.__valueOrFn(t.opts.onClick.preventDefault,i,"#"==c.slice(0,1));u&&a.preventDefault(),t.__valueOrFn(t.opts.onClick.blockUI,i,!u)&&l.$html.addClass(s.blocking),t.__valueOrFn(t.opts.onClick.close,i,u)&&t.close()}})},_initAddons:function(){for(var t in e[n].addons)e[n].addons[t].add.call(this),e[n].addons[t].add=function(){};for(var t in e[n].addons)e[n].addons[t].setup.call(this)},__api:function(){var t=this,n={};return e.each(this._api,function(e){var s=this;n[s]=function(){var e=t[s].apply(t,arguments);return void 0===e?n:e}}),n},__valueOrFn:function(e,t,n){return"function"==typeof e?e.call(t[0]):void 0===e&&void 0!==n?n:e},__refactorClass:function(e,t,n){return e.filter("."+t).removeClass(t).addClass(s[n])},__findAddBack:function(e,t){return e.find(t).add(e.filter(t))},__filterListItems:function(e){return e.not("."+s.divider).not("."+s.hidden)},__transitionend:function(e,t,n){var s=!1,a=function(){s||t.call(e[0]),s=!0};e.one(i.transitionend,a),e.one(i.webkitTransitionEnd,a),setTimeout(a,1.1*n)},__getUniqueId:function(){return s.mm(e[n].uniqueId++)}},e.fn[n]=function(s,a){return t(),s=e.extend(!0,{},e[n].defaults,s),a=e.extend(!0,{},e[n].configuration,a),this.each(function(){var t=e(this);if(!t.data(n)){var i=new e[n](t,s,a);t.data(n,i.__api())}})},e[n].support={touch:"ontouchstart"in window||navigator.msMaxTouchPoints};var s,a,i,l}}(jQuery);